<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">

<title>Product Detail | Pooshaz Luxury Hand Embroidery</title>

<!-- üîç SEO -->
<meta name="description" content="Shop luxury hand embroidered Pakistani dresses by Pooshaz. Summer, Winter, Mid-Winter & Eid collections with exact pricing and premium quality.">
<meta name="keywords" content="Pooshaz, Pakistani Dresses, Hand Embroidery, Summer Dresses, Winter Dresses, Eid Collection">
<meta name="author" content="Pooshaz Fashion House">
<meta name="robots" content="index, follow">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
 margin:0;
 font-family:Arial;
 background:#fff5f8;
}

.container{
 max-width:1000px;
 margin:40px auto;
 background:#fff;
 padding:30px;
 border-radius:24px;
 box-shadow:0 18px 40px rgba(0,0,0,.25);
}

.back{
 display:inline-block;
 margin-bottom:18px;
 padding:10px 26px;
 border-radius:30px;
 background:linear-gradient(135deg,#8e0038,#c2185b);
 color:#fff;
 text-decoration:none;
 transition:.35s;
}
.back:hover{
 background:linear-gradient(135deg,#d4af37,#b8962e);
 color:#2b1b00;
 box-shadow:0 0 20px rgba(212,175,55,.8);
}

.grid{
 display:grid;
 grid-template-columns:1fr 1fr;
 gap:30px;
}

.product-img{
 width:100%;
 height:420px;
 object-fit:contain;
}

h1{color:#8e0038;margin:0}
.collection{
 color:#d4af37;
 font-weight:bold;
 margin:6px 0;
}
.price{
 font-size:24px;
 font-weight:bold;
 color:#c2185b;
 margin:12px 0;
}
.desc{
 color:#444;
 line-height:1.6;
}

.actions{
 margin-top:20px;
 display:flex;
 gap:15px;
 flex-wrap:wrap;
}
.btn{
 padding:12px 28px;
 border-radius:30px;
 text-decoration:none;
 color:#fff;
 font-weight:bold;
 transition:.35s;
}
.cart{background:#c2185b}
.cart:hover{
 background:linear-gradient(135deg,#d4af37,#b8962e);
 color:#2b1b00;
}
.wa{background:#25D366}
.wa:hover{
 transform:scale(1.08);
 box-shadow:0 0 18px rgba(37,211,102,.8);
}

@media(max-width:800px){
 .grid{grid-template-columns:1fr}
 .product-img{height:320px}
}
</style>
</head>

<body>

<div class="container">

<a class="back" href="javascript:history.back()">‚Üê Back</a>

<div class="grid">

<img id="img" class="product-img" alt="Pooshaz Product Image">

<div>
 <h1 id="name"></h1>
 <div class="collection" id="collection"></div>
 <div class="price" id="price"></div>
 <p class="desc" id="desc"></p>

 <div class="actions">
  <a class="btn cart" href="#" onclick="addToCart()">Add to Cart</a>
  <a id="waBtn" class="btn wa" target="_blank">Order on WhatsApp</a>
 </div>
</div>

</div>
</div>

<script>
const p = JSON.parse(localStorage.getItem("pooshaz_product"));

/* SAFETY CHECK */
if(!p){
 alert("Product data missing");
 location.href = "index.html";
}

/* ===== PRICE CLEAN FIX (MAIN ISSUE SOLVED) ===== */
let cleanPrice = p.price;

if(typeof cleanPrice === "string"){
 cleanPrice = cleanPrice
  .replace(/rs\.?/gi,"")
  .replace(/pkr/gi,"")
  .trim();
}

/* ===== DATA LOAD ===== */
document.getElementById("img").src = p.img || p.image;
document.getElementById("name").innerText = p.name;
document.getElementById("price").innerText = "Rs. " + cleanPrice + " PKR";
document.getElementById("desc").innerText = p.desc || "";
document.getElementById("collection").innerText =
 (p.collection || "Pooshaz") + " Collection";

/* ===== WHATSAPP ORDER ===== */
const imageURL = location.origin + "/" + (p.img || p.image);

document.getElementById("waBtn").href =
 "https://wa.me/923065354885?text=" +
 encodeURIComponent(
  "üõçÔ∏è Pooshaz Order\n\n" +
  "üìå Product: " + p.name + "\n" +
  "üí∞ Price: Rs. " + cleanPrice + " PKR\n\n" +
  "üñºÔ∏è Product Image:\n" + imageURL + "\n\n" +
  "üîó Product Page:\n" + location.href
 );

/* ===== CART ===== */
function addToCart(){
 let cart = JSON.parse(localStorage.getItem("cart")) || [];
 cart.push(p);
 localStorage.setItem("cart", JSON.stringify(cart));
 alert("Product added to cart");
}
</script>

</body>
</html>
